{% extends 'base.html.twig' %}

{# No H1 in header #}
{% block page_header %}{% endblock %}

{% block content %}
 <div class="row">
    <div class="col-sm-12">

        {# Formulaire de recherche #}
        {% include "components/searchtripsform.html.twig" %}

        {# Résultats - colonne principale #}

        <div class="col-sm-10 col-sm-push-2">

            <h1>{{ h1 }}</h1>

            <p><strong>{{ pagination.total }} covoiturages trouvés</strong></p>

            {% if pagination.total > 0 %}
                {# Pagination #}
                <div class="pull-right">
                    {% include "components/pagination.html.twig" %}
                </div>

                <table class="table table-striped table-hover" width="100%">
                {% for result in results %}

                    {% set trip = result.trip %}
                    {% set stops = trip.stops %}
                    {% set depDelta = (result.dep is defined) ? result.dep : 0 %}
                    {% set arrDelta = (result.arr is defined) ? result.arr : (trip.numberofstops-1) %}
                    {#{% set driver = trip.driver %} #}
                    {% include "components/tripline.html.twig" %}
                {% endfor %}
                </table>

                {# Pagination #}
                <div class="pull-right">
                    {% include "components/pagination.html.twig" %}
                </div>
            {% else  %}
                {# Pas de résultats #}
                <p>Désolé, pas de résultats !</p>
            {% endif %}

        </div>
   </div>
    </div>
{% endblock content %}
